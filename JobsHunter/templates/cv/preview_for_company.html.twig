{% extends 'layout.html.twig' %}

{% block body %}
    <div class="container">
        <div class="cv">
            <div class="row">
                <div class="col-8">
                    <div class="fullName">
                        <i class="bi bi-person"></i> {{ cv.seeker.firstName }} {{ cv.seeker.lastName }}
                    </div>
                    <div class="address">
                        <i class="bi bi-geo-alt"></i> {{ cv.seeker.address }}
                    </div>
                    <div class="email">
                        <i class="bi bi-envelope"></i> {{ app.user.getEmail() }}
                    </div>
                    {% if cv.generalInformation %}
                        {% if cv.generalInformation.phone %}
                            <div class="phone">
                                <i class="bi bi-telephone"></i> {{ cv.generalInformation.phone }}
                            </div>
                        {% endif %}
                        {% if cv.generalInformation.phone2 %}
                            <div class="phone">
                                <i class="bi bi-telephone"></i> {{ cv.generalInformation.phone2 }}
                            </div>
                        {% endif %}
                    {% endif %}
                </div>
                {% if cv.generalInformation %}
                    <div class="photo col-4">
                        {% if cv.generalInformation.photo %}
                            <img class="rounded-circle" src="{{ asset('uploads/brochures/' ~ cv.generalInformation.photo) }}" width="120" height="120">
                        {% else %}
                            <img class="rounded-circle" src="https://via.placeholder.com/120" width="120" height="120">
                        {% endif %}
                    </div>
                {% endif %}
            </div>
            
            <div class="title text-center">
                <h3>Curriculum vitae</h3>
            </div>

            <div class="educations">
                <h3>Education</h3>
                {% for education in cv.educations %}
                    <div class="education">
                        <div class="diplomaTitle">
                            {{ education.diplomaTitle }}
                        </div>
                        <div class="educationLevel">
                            {{ education.educationLevel }}
                        </div>
                        <div class="establishment">
                            {{ education.establishment }}
                        </div>
                        <div class="startAt">
                            start: {{ education.startAt | date("d/m/Y") }}
                        </div>
                        {% if not education.current %}
                            <div class="endAt">
                                end: {{ education.endAt | date("d/m/Y") }}
                            </div>
                        {% else %}
                            en cours ...
                        {% endif %}
                    </div>
                    <hr>
                {% endfor %}
            </div>

            <div class="experiences">
                <h3>Experiences</h3>
                {% for experience in cv.experiences %}
                    <div class="experience">
                        <div class="company">
                            {{ experience.company}}
                        </div>
                        <div class="jobTitle">
                            {{ experience.jobTitle }}
                        </div>
                        <div class="description text-muted text-justify">
                            {{ experience.description }}
                        </div>
                        {% if experience.yearsOfExperience %}
                            <div class="yearsOfExperience">
                                {{ experience.yearsOfExperience }} ans
                            </div>
                        {% endif %}
                        
                        <div class="startAt">
                            {{ experience.startAt | date("d/m/Y") }}
                        </div>
                        {% if not experience.current %}
                            <div class="endAt">
                                {{ experience.endAt | date("d/m/Y") }}
                            </div>
                        {% else %}
                            en cours ...
                        {% endif %}
                    </div>
                    <br>
                {% endfor %}
            </div>
            <hr>
            <div class="social-links">
                <h6>social links</h6>
                {% if cv.socialLink %}
                    {% if cv.socialLink.github %}
                        <i class="bi bi-github"></i> {{ cv.socialLink.github }}
                    {% endif %}
                    {% if cv.socialLink.facebook %}
                        <i class="bi bi-facebook"></i> {{ cv.socialLink.facebook }}
                    {% endif %}
                    {% if cv.socialLink.twitter %}
                        <i class="bi bi-twitter"></i> {{ cv.socialLink.twitter }}
                    {% endif %}
                    {% if cv.socialLink.instagram %}
                        <i class="bi bi-instagram"></i> {{ cv.socialLink.instagram }}
                    {% endif %}
                    {% if cv.socialLink.youtube %}
                        <i class="bi bi-youtube"></i> {{ cv.socialLink.youtube }}
                    {% endif %}
                    {% if cv.socialLink.stackoverflow %}
                        {# <i class="bi bi-stack-overflow"></i>  #}
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-stack-overflow" viewBox="0 0 16 16">
                            <path d="M12.412 14.572V10.29h1.428V16H1v-5.71h1.428v4.282h9.984z"/>
                            <path d="M3.857 13.145h7.137v-1.428H3.857v1.428zM10.254 0 9.108.852l4.26 5.727 1.146-.852L10.254 0zm-3.54 3.377 5.484 4.567.913-1.097L7.627 2.28l-.914 1.097zM4.922 6.55l6.47 3.013.603-1.294-6.47-3.013-.603 1.294zm-.925 3.344 6.985 1.469.294-1.398-6.985-1.468-.294 1.397z"/>
                        </svg> {{ cv.socialLink.stackoverflow }}
                    {% endif %}
                    {% if cv.socialLink.website %}
                        <i class="bi bi-globe"></i> {{ cv.socialLink.website }}
                    {% endif %}
                {% endif %}
            </div>
        </div>
    </div>
{% endblock %}
